(this.webpackJsonpmakitappbeta=this.webpackJsonpmakitappbeta||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),o=n(3),a=n(18),i=n.n(a),u=n(16),d=n(4),s=n(1),l=function(){return Object(s.jsx)("div",{children:"Home Page"})},p=n(10),j=function(){return function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return"".concat(e()+e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())}()},h="REDUX/CART/APPEND_PRODUCT_TO_CART",b="REDUX/CART/SWITCH_SHOPPING_CART",f="REDUX/CART/SWITCH_CART_STORE_PICKER",O="REDUX/CART/SWITCH_CART_ITEM_PICKER",m="REDUX/CART/FILL_CART_STORE_PICKER",y="REDUX/CART/MODIFY_PRODUCT_FROM_CART",v="REDUX/CART/FILL_CART_ITEM_PICKER",R="REDUX/CART/RESET_CART_SWITCH",E="REDUX/CART/CART_STORE_REPLACEMENT_ACTION",x="REDUX/CART/MODIFY_DELIVERY_STATE_AND_VALUE",S=function(e){return{type:b,payload:e}},T=function(e){return{type:f,payload:e}},_=function(e){return{type:O,payload:e}},C={shoppingcart:!0,cartstorepicker:!1,cartitempicker:!1},g={ordercontent:[],customerid:null,customername:null,customerphone:null,code:"order_".concat(j()),orderaddress:null,orderaddressref:null,orderproductsamount:null,orderamounttotal:null,orderdeliverystate:!1,orderdeliveryamount:0,paymentmethod:null,orderregisterdate:null,orderdeliverdate:!1,orderregistertime:null,orderdelivertime:null},I=n(11),k=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.cartItemPickerReducer})),n=Object(c.useState)(!1),r=Object(I.a)(n,2),a=r[0],i=r[1],u=Object(c.useState)(0),d=Object(I.a)(u,2),l=d[0],p=d[1],j=Object(c.useState)(!1),h=Object(I.a)(j,2),b=h[0],f=h[1];Object(c.useEffect)((function(){i(!0)}),[]);var O=function(n){if(a){for(var c=document.querySelectorAll("#sub_item_name"),r=document.querySelectorAll("#sub_item_description"),o=document.querySelectorAll(".".concat(n)),i=[],u=0;u<c.length;u+=1)i.push({name:c[u].innerHTML,quantity:parseInt(o[u].value,10),description:r[u].innerHTML,codename:o[u].id});var d={header:t.header,content:i,completed:!0,maxvalue:parseInt(t.maxvalue,10),factor:parseInt(t.factor,10)};e({type:E,payload:d}),e(_(!1)),e(T(!0))}else f(!0)};return Object(s.jsxs)("div",{children:[Object(s.jsxs)("h1",{children:["Elige tus"," ",t.header]}),t.content.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{id:"sub_item_name",children:e.name}),Object(s.jsx)("p",{id:"sub_item_description",children:e.description}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{className:"classident_".concat(t.header.split(" ").join("_")),id:e.codename,type:"number",defaultValue:e.quantity}),Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{type:"button",onClick:function(){!function(e,n){var c=document.getElementById(n),r=document.querySelectorAll(".".concat(e)),o=[];r.forEach((function(e){o.push(parseInt(e.value,10))}));var a=o.reduce((function(e,t){return e+t})),u=parseInt(t.maxvalue,10),d=parseInt(t.factor,10);a<u&&(p(l-d),c.value=parseInt(c.value,10)+d,u-a===d&&i(!0))}("classident_".concat(t.header.split(" ").join("_")),e.codename)},children:"Up"}),Object(s.jsx)("button",{type:"button",onClick:function(){!function(e){var n=document.getElementById(e),c=parseInt(t.factor,10);parseInt(n.value,10)>0&&(p(l+c),n.value=parseInt(n.value,10)-parseInt(t.factor,10),i(!1))}(e.codename)},children:"Down"})]})]})]},e.name)})),Object(s.jsx)("div",{children:a?"Completed":"Tienes ".concat(l," por escoger")}),b?Object(s.jsx)("div",{children:"Background"}):"",b?Object(s.jsx)("div",{onClick:function(){f(!1)},children:Object(s.jsx)("h1",{children:"Aun tienes items por escoger!"})}):"",Object(s.jsx)("button",{type:"button",onClick:function(){O("classident_".concat(t.header.split(" ").join("_")))},children:"Aceptar"}),Object(s.jsx)("button",{type:"button",onClick:function(){return e(_(!1)),void e(T(!0))},children:"Volver"})]})},A=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.cartStorePickerReducer})),n=function(t){e({type:v,payload:t}),e(T(!1)),e(_(!0))},c=function(){return function(e){for(var t=0;t<e.length;t+=1)if(!e[t].completed)return!1;return!0}(t.content)&&(e({type:y,payload:t}),e(T(!1)),e(S(!0))),!1};return Object(s.jsx)("div",{className:"store_picker_container",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:"StorePicker"}),t.content.map((function(e){return Object(s.jsx)("div",{children:Object(s.jsx)("button",{className:e.completed?"completed_btn":"uncompleted_btn",type:"button",onClick:function(){n(e)},children:e.header})},e.header)})),Object(s.jsx)("button",{type:"button",onClick:function(){return c()},children:"Terminar modificaciones"}),Object(s.jsx)("button",{type:"button",onClick:function(){return e(T(!1)),void e(S(!0))},children:"Volver"})]})})},D=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.cartReducer})),n=Object(o.c)((function(e){return e.cartSwitchReducer})),c=function(t){e({type:m,payload:t}),e(T(!0)),e(S(!1))};return Object(s.jsxs)("div",{children:[n.shoppingcart?Object(s.jsxs)("div",{children:[t.ordercontent.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:e.header}),e.content.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:e.header}),e.content.map((function(e){return e.quantity>0?Object(s.jsxs)("h3",{children:[e.name," x ",e.quantity]},e.name):""}))]},e.header)})),Object(s.jsx)("footer",{children:e.price}),Object(s.jsx)("button",{type:"button",onClick:function(){c(e)},children:"Editar"})]},"".concat(e.header).concat(function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return"".concat(e()+e(),"-").concat(e())}()))})),Object(s.jsx)("h1",{children:"Monto de compra"}),Object(s.jsx)("h2",{children:"S/ ".concat(t.orderproductsamount)}),Object(s.jsx)("h1",{children:"Delivery"}),Object(s.jsx)("h2",{children:"S/ ".concat(t.orderproductsamount)})]}):"",n.cartstorepicker?Object(s.jsx)(A,{}):"",n.cartitempicker?Object(s.jsx)(k,{}):""]})},P="REDUX/STORE/STORE/GET_CATEGORIES",U="REDUX/STORE/STORE/TRIGGER_PRODUCTS",N="REDUX/STORE/STORE/UPD_STORE",X="REDUX/STORE/STORE/GET_PRODUCTS",M="REDUX/STORE/GET_PICKER",w="REDUX/STORE/SEND_ITEM_CONTENT",H="REDUX/STORE/APPEND_ITEM_TO_PRODUCT",q="REDUX/STORE/BUILD_ITEM",L="REDUX/STORE/SET_ITEM_HEADER",F="REDUX/STORE/SET_PRODUCT_HEADER",B="REDUX/STORE/SET_FINAL_PRODUCT_HEADER",W="REDUX/STORE/CHANGE_COMPLETED_STATE",V="REDUX/STORE/SWITCH_PARENT_STATE",G="REDUX/STORE/SWITCH_SECONDARY_STORE",K="REDUX/STORE/SWITCH_STORE_PICKER",Y="REDUX/STORE/SWITCH_ITEM_PICKER",J="REDUX/STORE/RESET_STORE",z=!0,Q=[],Z=function(e){return{type:V,payload:e}},$=function(e){return{type:G,payload:e}},ee=function(e){return{type:K,payload:e}},te=function(e){return{type:Y,payload:e}},ne=function(){return{type:J}},ce={parentState:!0,secondaryStoreState:!1,storePickerState:!1,itemPickerState:!1},re=function(){var e=Object(o.c)((function(e){return e.storeSecondaryReducer})),t=Object(o.b)(),n=function(e){t($(!1)),t(ee(!0)),t({type:F,payload:e})};return Object(s.jsx)("div",{className:"store_secondary_container",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:"StoreSecondary"}),e.map((function(e){return Object(s.jsx)("button",{type:"button",onClick:function(){n({id:e.idproductos,header:e.nombre,price:e.precio})},children:e.nombre},e.nombre)})),Object(s.jsx)("button",{type:"button",onClick:function(){t(ne())},children:"Volver"})]})})},oe=n(25),ae=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.storePickerReducer})),n=Object(o.c)((function(e){return e.productBuildReducer})),c=function(t,n){e(ee(!1)),e({type:L,payload:n}),e(function(e){return{type:w,payload:e}}(t)),e(te(!0))},r=function(){return!!function(e){for(var t=0;t<e.length;t+=1)if(!e[t].completed)return!1;return!0}(t.content)&&(e(ne()),e({type:h,payload:n}),Object(s.jsx)(oe.a,{push:!0,to:"/store"}))};return Object(s.jsx)("div",{className:"store_picker_container",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:"StorePicker"}),t.content.map((function(e){return Object(s.jsx)("div",{children:Object(s.jsx)("button",{className:e.completed?"completed_btn":"uncompleted_btn",type:"button",onClick:function(){c(e,e.name)},children:e.name})},e.name)})),Object(s.jsx)("button",{type:"button",onClick:function(){return r()},children:"Agregar al carrito"}),Object(s.jsx)("button",{type:"button",onClick:function(){return e(ee(!1)),void e($(!0))},children:"Volver"})]})})},ie=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.itemPickerReducer})),n=Object(o.c)((function(e){return e.productBuildReducer})),r=Object(c.useState)(!1),a=Object(I.a)(r,2),i=a[0],u=a[1],d=Object(c.useState)(parseInt(t.content.indexes.cantidad,10)),l=Object(I.a)(d,2),j=l[0],h=l[1],b=Object(c.useState)(!1),f=Object(I.a)(b,2),O=f[0],m=f[1];Object(c.useEffect)((function(){if(function(){var e=Object(p.a)(n.content);if(e.length>0)for(var c=0;c<e.length;c+=1)if(e[c].header===t.header)return!0;return!1}()){for(var e=document.querySelectorAll(".".concat(t.content.name.split(" ").join("_"))),c=Object(p.a)(n.content),r=[],o=0;o<c.length;o+=1)c[o].header===t.header&&(r=c[o].content);for(var a=0;a<e.length;a+=1)for(var i=0;i<r.length;i+=1)t.content.content[a].nombre===r[i].name&&(e[a].value=r[i].quantity);h(0),u(!0)}}),[]);var y=function(n){if(i){for(var c=document.querySelectorAll("#sub_item_name"),r=document.querySelectorAll("#sub_item_description"),o=document.querySelectorAll(".".concat(n)),a=[],u=0;u<c.length;u+=1)a.push({name:c[u].innerHTML,quantity:parseInt(o[u].value,10),description:r[u].innerHTML,codename:o[u].id});var d={header:t.header,content:a,completed:!0,maxvalue:parseInt(t.content.indexes.cantidad,10),factor:parseInt(t.content.indexes.factor,10)};e({type:q,payload:d}),e(te(!1)),e(ee(!0)),e(function(e){return{type:W,payload:e}}(t.header))}else m(!0)};return Object(s.jsxs)("div",{children:[Object(s.jsxs)("h1",{children:["Elige tus"," ",t.header]}),t.content.content.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{id:"sub_item_name",children:e.nombre}),Object(s.jsx)("p",{id:"sub_item_description",children:e.descripcion}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{className:t.content.name.split(" ").join("_"),id:e.codename,type:"number",defaultValue:0}),Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{type:"button",onClick:function(){!function(e,n){var c=document.getElementById(n),r=document.querySelectorAll(".".concat(e)),o=[];r.forEach((function(e){o.push(parseInt(e.value,10))}));var a=o.reduce((function(e,t){return e+t})),i=parseInt(t.content.indexes.cantidad,10),d=parseInt(t.content.indexes.factor,10);a<i&&(h(j-d),c.value=parseInt(c.value,10)+d,i-a===d&&u(!0))}(t.content.name.split(" ").join("_"),e.codename)},children:"Up"}),Object(s.jsx)("button",{type:"button",onClick:function(){!function(e){var n=document.getElementById(e),c=parseInt(t.content.indexes.factor,10);parseInt(n.value,10)>0&&(h(j+c),n.value=parseInt(n.value,10)-parseInt(t.content.indexes.factor,10),u(!1))}(e.codename)},children:"Down"})]})]})]},e.nombre)})),Object(s.jsx)("div",{children:i?"Completed":"Tienes ".concat(j," por escoger")}),O?Object(s.jsx)("div",{children:"Background"}):"",O?Object(s.jsx)("div",{onClick:function(){m(!1)},children:Object(s.jsx)("h1",{children:"Aun tienes items por escoger!"})}):"",Object(s.jsx)("button",{type:"button",onClick:function(){y(t.content.name.split(" ").join("_"))},children:"Aceptar"}),Object(s.jsx)("button",{type:"button",onClick:function(){return e(te(!1)),void e(ee(!0))},children:"Volver"})]})},ue=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.storemainReducer})),n=Object(o.c)((function(e){return e.storeSwitchReducer})),r=[n.parentState,n.secondaryStoreState,n.storePickerState,n.itemPickerState],a=r[0],i=r[1],u=r[2],d=r[3];Object(c.useEffect)((function(){e({type:P,payload:[]}),e(Z(!0))}),[]);var l=function(t){e(Z(!1)),e({type:U,payload:t}),e($(!0))};return Object(s.jsxs)("div",{className:"store_main_container",children:[!!a&&Object(s.jsx)("div",{children:t.map((function(e){return Object(s.jsx)("button",{type:"button",onClick:function(){return l(e.idcategorias)},children:e.nombre},e.nombre)}))}),!!i&&Object(s.jsx)(re,{}),!!u&&Object(s.jsx)(ae,{}),!!d&&Object(s.jsx)(ie,{})]})},de=function(){return Object(s.jsx)("div",{id:"Products",children:Object(s.jsx)(ue,{})})},se=function(){var e=Object(o.b)(),t=function(){e(ne()),e({type:R})};return Object(s.jsxs)(u.a,{children:[Object(s.jsx)("div",{className:"hello",children:Object(s.jsx)("h1",{children:"Makit App"})}),Object(s.jsxs)("div",{className:"switch",children:[Object(s.jsx)("div",{className:"switch_header",children:Object(s.jsxs)("ul",{className:"nav-bar",children:[Object(s.jsx)("li",{className:"nav-bar-li",children:Object(s.jsx)(u.b,{onClick:function(){t()},to:"/home",children:"Home"})}),Object(s.jsx)("li",{className:"nav-bar-li",children:Object(s.jsx)(u.b,{onClick:function(){t()},to:"/store",children:"Store"})}),Object(s.jsx)("li",{className:"nav-bar-li",children:Object(s.jsx)(u.b,{onClick:function(){t()},to:"/shop",children:"Shoping Cart"})})]})}),Object(s.jsxs)(d.c,{children:[Object(s.jsx)(d.a,{path:"/home",children:Object(s.jsx)(l,{})}),Object(s.jsx)(d.a,{path:"/store",children:Object(s.jsx)(de,{})}),Object(s.jsx)(d.a,{path:"/shop",children:Object(s.jsx)(D,{})})]})]})]})},le=n(9),pe=n(26),je=n.n(pe),he=Object(le.b)({storeSwitchReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0,n={parentState:e.parentState,secondaryStoreState:e.secondaryStoreState,storePickerState:e.storePickerState,itemPickerState:e.itemPickerState};switch(t.type){case V:return n.parentState=t.payload,n;case G:return n.secondaryStoreState=t.payload,n;case K:return n.storePickerState=t.payload,n;case Y:return n.itemPickerState=t.payload,n;case J:return ce;default:return e}},storemainReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case P:return e;case N:return n;default:return e}},storeSecondaryReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case U:return Q;case X:return n;default:return e}},storePickerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,n=t.payload,c=e,r=e.content,o=function(e){for(var t=0;t<r.length;t+=1)r[t].name===e&&(r[t].completed=!0)};switch(t.type){case F:return{header:n.header,price:n.price,content:[]};case M:return c.content=n,{header:c.header,content:c.content,price:c.price};case W:return o(t.payload),{header:c.header,content:r,price:c.price};default:return e}},itemPickerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case L:return{header:n,content:[]};case w:return{header:e.header,content:n};default:return e}},itemBuildReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,n=e,c=t.payload;switch(t.type){case q:return n.content=c,n;default:return e}},productBuildReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,n=t.payload,c=function(){var t=Object(p.a)(e.content);if(t.length>0)for(var c=0;c<t.length;c+=1)if(t[c].header===n.header)return!0;return!1},r=function(t){for(var n=Object(p.a)(e.content),c=0;c<n.length;c+=1)n[c].header===t.header&&(n[c].content=t.content);return n};switch(t.type){case B:return{header:t.payload.header,price:t.payload.price,code:j(),content:[]};case H:return c()?{header:e.header,price:e.price,code:e.code,content:r(n)}:{header:e.header,price:e.price,code:e.code,content:[].concat(Object(p.a)(e.content),[n])};default:return e}},cartReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,n=e.ordercontent,c=e,r=function(e){for(var t=[],n=0;n<e.length;n+=1)t.push(parseFloat(e[n].price).toFixed(2));return t.reduce((function(e,t){return e+t}))};switch(t.type){case h:return n.push(t.payload),c.ordercontent=n,c.orderproductsamount=r(n),c.orderamounttotal=r(n)+c.orderdeliveryamount,c;case y:return c.ordercontent=n.filter((function(e){return e.code!==t.payload.code})),c.ordercontent.push(t.payload),c;case x:return c.orderdeliverdate=!0,c.orderdeliveryamount=parseFloat(t.payload).toFixed(2),c;default:return e}},cartSwitchReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,n={shoppingcart:e.shoppingcart,cartstorepicker:e.cartstorepicker,cartitempicker:e.cartitempicker};switch(t.type){case b:return n.shoppingcart=t.payload,n;case f:return n.cartstorepicker=t.payload,n;case O:return n.cartitempicker=t.payload,n;case R:return C;default:return e}},cartStorePickerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=function(){for(var n=Object(p.a)(e.content),c=[],r=0;r<n.length;r+=1)n[r].header===t.payload.header?c.push(t.payload):c.push(n[r]);return c};switch(t.type){case m:return t.payload;case E:return{header:e.header,price:e.price,code:e.code,content:n()};default:return e}},cartItemPickerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return t.payload;default:return e}}}),be=Object(le.c)(Object(le.a)((function(e){return function(t){return function(n){n.type===P&&z&&(z=!1,fetch("/getCategories",{headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(t){return e.dispatch({type:N,payload:t})}))),t(n)}}})),Object(le.a)((function(e){return function(t){return function(n){n.type===U&&fetch("/getProdWithId/".concat(n.payload),{headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(t){return e.dispatch({type:X,payload:t})})),t(n)}}})),Object(le.a)((function(e){return function(t){return function(n){n.type===F&&fetch("/getItemWithId/".concat(n.payload.id),{headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(t){return e.dispatch({type:M,payload:t})})),t(n)}}})),Object(le.a)((function(e){return function(t){return function(n){var c;n.type===q&&e.dispatch((c=n.payload,{type:H,payload:c})),t(n)}}})),Object(le.a)((function(e){return function(t){return function(n){var c;n.type===F&&e.dispatch((c={header:n.payload.header,price:n.payload.price},{type:B,payload:c})),t(n)}}})),Object(le.a)(je.a)),fe=Object(le.d)(he,void 0,be);n(42),n(43),n(44);i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(o.a,{store:fe,children:Object(s.jsx)(se,{})})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.00910942.chunk.js.map